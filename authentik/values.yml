global:
  env:
    - name: AUTHENTIK_POSTGRESQL__DISABLE_SERVER_SIDE_CURSORS
      value: "true"
  envFrom:
    - secretRef:
        name: envsecrets

authentik:
  email:
    port: ""
    use_tls: ""
    use_ssl: ""
    timeout: ""
  postgresql:
    host: pooler-authentik-rw
    password: file:///postgres-creds/password

server:
  autoscaling:
    enabled: true
    minReplicas: 1
    maxReplicas: 5
  volumeMounts:
    - name: postgres-creds
      mountPath: /postgres-creds
      readOnly: true
  volumes:
    - name: postgres-creds
      secret:
        secretName: authentik-postgres-credentials
  resources:
    requests:
      cpu: 100m
      memory: 512Mi
    limits:
      memory: 512Mi

worker:
  autoscaling:
    enabled: true
    minReplicas: 1
    maxReplicas: 5
  volumeMounts:
    - name: postgres-creds
      mountPath: /postgres-creds
      readOnly: true
  volumes:
    - name: postgres-creds
      secret:
        secretName: authentik-postgres-credentials
  resources:
    requests:
      cpu: 100m
      memory: 512Mi
    limits:
      memory: 512Mi